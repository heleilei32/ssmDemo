<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dc.dao.sys.SysUserMapper" >
  <resultMap id="BaseResultMap" type="com.dc.entity.sys.pojo.SysUser" >
    <!--
      WARNING - @mbg.generated
    -->
    <id column="c_id" property="id" jdbcType="INTEGER" />
    <result column="c_userID" property="userid" jdbcType="VARCHAR" />
    <result column="c_ip" property="ip" jdbcType="VARCHAR" />
    <result column="c_login_time" property="loginTime" jdbcType="TIMESTAMP" />
    <result column="c_order_user" property="orderUser" jdbcType="BIT" />
    <result column="c_first_record" property="firstRecord" jdbcType="TIMESTAMP" />
    <result column="c_ordered" property="ordered" jdbcType="BIT" />
  </resultMap>

  <!-- 得到老用户数的订购数量 -->
  <select id="getOldUserOrderCount" resultType="int">
    select count(*) from sys_user where
    <if test="orderType ==0">
      c_order_user = false
    </if>
    <if test="orderType ==1">
      c_order_user = true
    </if>
    <if test="beginTime !=null  and endTime !=null">
      and (
      c_first_record &lt; #{beginTime}
      and
      c_login_time &gt;= #{beginTime}
      and
      c_login_time &lt;= #{endTime} )
    </if>
  </select>




  <!-- 得到新用户的订购数量 -->
  <select id="getNewUserOrderCount" resultType="int">
    select count(*) from sys_user where
    <if test="orderType ==0">
      c_order_user = false
    </if>
    <if test="orderType ==1">
      c_order_user = true
    </if>
    <if test="beginTime !=null  and endTime !=null">
      and
      c_first_record &gt;= #{beginTime}
      and
      c_first_record
      &lt;= #{endTime}
    </if>
  </select>
</mapper>